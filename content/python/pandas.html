<!DOCTYPE HTML><html lang=""><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>pandas Â· cheatsheet</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content=""><meta name="generator" content="GitBook 3.2.3"><meta name="author" content="XS Zhao"><link rel="stylesheet" href="../../gitbook/style.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-folding-chapters/folding-chapters.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-plus/search.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-footer/footer.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-terminal/plugin.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css"><link rel="stylesheet" type="text/css" href="../../custom/my.css"><meta name="HandheldFriendly" content="true"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png"><link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon"><style>@media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }</style><script>window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"hansonzhao007","repo":"cheatsheet","type":"star","size":"small","count":true}]};</script></head><body><div class="book"><div class="book-summary"><div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div><nav role="navigation"><ul class="summary"><li class="chapter" data-level="1.1" data-path="../../"><a href="../../">Introduction</a></li><li class="chapter" data-level="1.2"><span>C++</span><ul class="articles"><li class="chapter" data-level="1.2.1"><a target="_blank" href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a></li></ul></li><li class="chapter" data-level="1.3"><a target="_blank" href="http://xszhao.science/blog/markdown-syntax/">Markdown</a></li><li class="chapter" data-level="1.4"><span>Git</span><ul class="articles"><li class="chapter" data-level="1.4.1"><a target="_blank" href="https://education.github.com/git-cheat-sheet-education.pdf">cheatsheet</a></li><li class="chapter" data-level="1.4.2" data-path="../git/skills.html"><a href="../git/skills.html">skills</a></li></ul></li><li class="chapter" data-level="1.5"><span>Linux</span><ul class="articles"><li class="chapter" data-level="1.5.1" data-path="../linux/cmake.html"><a href="../linux/cmake.html">cmake</a></li><li class="chapter" data-level="1.5.2" data-path="../linux/cpu.html"><a href="../linux/cpu.html">cpu</a></li><li class="chapter" data-level="1.5.3" data-path="../linux/disk.html"><a href="../linux/disk.html">disk</a></li><li class="chapter" data-level="1.5.4" data-path="../linux/inode.html"><a href="../linux/inode.html">inode</a></li><li class="chapter" data-level="1.5.5" data-path="../linux/mem.html"><a href="../linux/mem.html">memory</a></li><li class="chapter" data-level="1.5.6" data-path="../linux/network.html"><a href="../linux/network.html">network</a></li><li class="chapter" data-level="1.5.7" data-path="../linux/perf.html"><a href="../linux/perf.html">perf</a></li><li class="chapter" data-level="1.5.8" data-path="../linux/ssh.html"><a href="../linux/ssh.html">ssh</a></li><li class="chapter" data-level="1.5.9" data-path="../linux/skills.html"><a href="../linux/skills.html">skills</a></li></ul></li><li class="chapter" data-level="1.6"><span>Python</span><ul class="articles"><li class="chapter active" data-level="1.6.1" data-path="pandas.html"><a href="pandas.html">pandas</a></li></ul></li><li class="chapter" data-level="1.7"><span>Web</span><ul class="articles"><li class="chapter" data-level="1.7.1" data-path="../web/gitbook.html"><a href="../web/gitbook.html">Gitbook</a></li></ul></li><li class="chapter" data-level="1.8" data-path="../vim.html"><a href="../vim.html">Vim</a></li><li class="divider"></li><li><a href="https://www.gitbook.com" target="blank" class="gitbook-link">Published with GitBook</a></li></ul></nav></div><div class="book-body"><div class="body-inner"><div class="book-header" role="navigation"><!-- Title --><h1><i class="fa fa-circle-o-notch fa-spin"></i> <a href="../..">pandas</a></h1></div><div class="page-wrapper" tabindex="-1" role="main"><div class="page-inner"><div class="search-plus" id="book-search-results"><div class="search-noresults"><section class="normal markdown-section"><div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon"></span><a href="#concat-two-dataframes-without-losing-the-column-headers"><b>1. </b>concat two dataframes without losing the column headers</a></li><li><span class="title-icon"></span><a href="#&#x91CD;&#x7F6E;-index"><b>2. </b>&#x91CD;&#x7F6E; index</a></li><li><span class="title-icon"></span><a href="#&#x91CD;&#x7F6E;-column-name-&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;-dataframe-&#x7684;-column-names"><b>3. </b>&#x91CD;&#x7F6E; column name &#x4E3A;&#x53E6;&#x4E00;&#x4E2A; dataframe &#x7684; column names</a></li><li><span class="title-icon"></span><a href="#&#x6311;&#x9009;&#x884C;&#x5217;"><b>4. </b>&#x6311;&#x9009;&#x884C;&#x5217;</a></li></ul></div><a href="#concat-two-dataframes-without-losing-the-column-headers" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="concat-two-dataframes-without-losing-the-column-headers"><a name="concat-two-dataframes-without-losing-the-column-headers" class="anchor-navigation-ex-anchor" href="#concat-two-dataframes-without-losing-the-column-headers"><i class="fa fa-link" aria-hidden="true"></i></a>1. concat two dataframes without losing the column headers</h1><p>As stated in <a href="http://pandas.pydata.org/pandas-docs/stable/merging.html#concatenating-with-mixed-ndims" target="_blank">merge, join, and concat</a> documentation, ignore index will remove all name references and use a range (0...n-1) instead. So it should give you the result you want once you remove ignore_index argument or set it to false (default).</p><pre class="language-"><code class="lang-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df<span class="token punctuation">,</span> df2<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><p>This will join your df and df2 based on indexes (same indexed rows will be concatenated, if other dataframe has no member of that index it will be concatenated as nan).</p><h1 id="&#x91CD;&#x7F6E;-index"><a name="&#x91CD;&#x7F6E;-index" class="anchor-navigation-ex-anchor" href="#&#x91CD;&#x7F6E;-index"><i class="fa fa-link" aria-hidden="true"></i></a>2. &#x91CD;&#x7F6E; index</h1><pre class="language-"><code class="lang-python">df<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>drop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><h1 id="&#x91CD;&#x7F6E;-column-name-&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;-dataframe-&#x7684;-column-names"><a name="&#x91CD;&#x7F6E;-column-name-&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;-dataframe-&#x7684;-column-names" class="anchor-navigation-ex-anchor" href="#&#x91CD;&#x7F6E;-column-name-&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;-dataframe-&#x7684;-column-names"><i class="fa fa-link" aria-hidden="true"></i></a>3. &#x91CD;&#x7F6E; column name &#x4E3A;&#x53E6;&#x4E00;&#x4E2A; dataframe &#x7684; column names</h1><pre class="language-"><code class="lang-python">df1<span class="token punctuation">.</span>columns <span class="token operator">=</span> df2<span class="token punctuation">.</span>columns<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><h1 id="&#x6311;&#x9009;&#x884C;&#x5217;"><a name="&#x6311;&#x9009;&#x884C;&#x5217;" class="anchor-navigation-ex-anchor" href="#&#x6311;&#x9009;&#x884C;&#x5217;"><i class="fa fa-link" aria-hidden="true"></i></a>4. &#x6311;&#x9009;&#x884C;&#x5217;</h1><pre class="language-"><code class="lang-python">pick <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
df<span class="token punctuation">.</span>ix<span class="token punctuation">[</span>pick<span class="token punctuation">]</span> <span class="token comment"># &#x6311;&#x9009;&#x884C;</span>

df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">150</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment"># &#x524D;&#x9762;&#x4EE3;&#x8868;&#x9009;&#x62E9;&#x6240;&#x6709;&#x5217;&#xFF0C;&#x540E;&#x9762;&#x4EE3;&#x8868;&#x9009;&#x62E9;&#x4ECE; 0 &#x5230; 150 &#x884C;&#xFF0C;&#x6BCF;&#x9694;5&#x4E2A;&#x53D6;&#x4E00;&#x4E2A;</span>
</code></pre><footer class="footer"><div class="footer__container--normal" alt="
http://xszhao.science/cheatsheet/content/python/pandas.html
"><img src="data:image/gif;base64,R0lGODdhqgCqAIAAAAAAAP///ywAAAAAqgCqAAAC/4yPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9u0C+s7ziJ/QGXq9IcD4OwaES6ISuQBKd0kI08i8Bp1ECrd7AFabXKg2qyyHn1u0m61lnKlN+VcciW+x8Ht/PAX4NUZI1oeHZpa2qOig58im8JZ0VzhZt8YHBmVJp/mHmRjKiGnntRg4KulpyGeaR/r22FBZmmnbaCgqIRtLSnmIGnlr5ft5qqa3e9vLCXuM20rcxloMDTyHt5qqPMgsvGyt+7s2Z6f90EydXb1u7I7om8oLTq7IPeznvblnq//qSho2eXRmvQLTDVq4cfrUrXL2L0qwgAPvFRwGKWO5Iv8CN+bqpObjt4eqSlKc5owkPY2fLgETCdEbTJMjS7JTibIfvYiier7zmQuozZ9EgxYdFXGnH6NMhzYVCvVo1KcEa6FI6C+fVnPRFF4kGS8Zxo42sHItdHKh14UuGX6VaLADQlaXbvazmjXmPLf85qZ0Cylu4Itc96LrFU9QxaxJx80MCXdsscMcX/K1lxPf3ylT0010LNEDv2seL//d/JYt4aMspY3OaSHsatSJ7zp5DArk6sJaFwsSTIsux72kzd6mGRPn3NpYSVvE8LplMLuNA/rk/HawX6SSTZP1jE66b9dLqRnFrhZeamHah7cTN5B3+/jsu26kPt29xb6VbUP/39pfesUdR5w7lrGzHWLChYfcBG3pJtRv3W0HVm72LaMghaUBd9B7jK1XYVwaKjbNLBjWI9Y2mE22W36akfdaN4b15h9odfUn3Y3ItEhfVAri5BVa0Vy3nkP3uSegZwDpxKRIGdbzHE1GAmleaKBpYOJYWVYo4XJFvrPfhGJueWUF+KUF4IkH7qMfeYOhadxJS56yJpoqqrkhm/gkiZ1lJDIoZGyYaajOg0PiWFp7suUonHiwXaDajEF+J6OHgB656GW88Sdam+e4SBCXkTV2VqLe2RnZaQ56miqmodZ4Z3nJVcmonxdmt6qKsep6pJNIjpnmiq1ah+iLHGbWTowL/4LY63e2TsrimpR19p+XcB5H1Y+UztZgig12GKiZBHJba003Wlvli/Q1JU6pO8qZJ6HLGvnkTNJaOKtGkCkFL7HyIgjlN96KSO6h4Xbp4Zzq9fgZuKYKiaduz9bU76OtxQpwpg5XHCeytjJ4IsFYBgjsvoeG/Ku7pw5lsskT76gyw83luW6ZlXLKnbLRPSwuowm+Wi/FVsoGmXxKuhpzrpq2SWSYzIl5bdGgAJdxoz03+aFdEvLaWdMnJyssZSEmbCXE+U1sqLFS4erct9uOfayoU6arJZgfylxfodgK/TOVK7FMdoHs3o00t3orqxezB49aLFEAt0012JVibGnAkP/jC0vLjp9dpqpoSx4syJZ3nlcGDf0abeEdRgpqbR/X5zPZSp1e8esuc0db61a/HrVMkFqN7qfGIa7e6WrXKbDdSX6KcO2ka2u28Wz6iqe6bm/8KLXNeum18KwFF6bETik985+DphywoYtFCH7OFh5PPuiObk230Tyh76vfuNuIub7yA2abyXWESGJBj/JoNDZo2edNtGoWsUiksEyNaGmbMp6j4tZAePGnelBroAFzh5cnFZBVf5sR9NqnteeRLH8G4h/llnc1E6KoO9Tj3HjYd7P0hY5tIShVCtPjw/7RrETAw5UImYao/3SCd7daosXcRMQKzkp64fsdEOe1N9f/tapP7lMgneiWLRqCcVhLYyLzYFQVHSpxjD4S4xmnNUOp5TBxL/xSAgc4vSFWC3bxasjnZFjH7iWvd4Bc4AeItjvCVS1LMzPg0/JFOhYgMojIKxevxBfCA44HBNzz3d8qyUZmMbJkQBPjpVh0RAzmTlV7+t7Ltpc3U8qOcZ18XBMBKMMzeSyKLbpf8DKnJ5IJzn06ciAUUQOhOAaTizDDHA4Nt7dwIfKByJrm9b4mKC0Ojou3G+X6jBisb3oOm/HzWvluhbNJTZBKSZNmLHe2ulKys27pdKE9L1Y6fEbpdvNxVuHoFU48Lo6BN5Rn2QzZz0v5MpFreZ8byTigfdZt/6AHjV7jzLfBqfEQngCMHSUZJ6gIRrN0J3wa6wiW0Uy685QVBdySPmrL6gBumPJKHTU/aa7KObGGR5TbuLwHyTPe9Bn745ruxDlG2+kQg+zzHkcdJjqUpfR8rLuX+lAoLLyt0ZIefGd5vNlFCvKxqQEMZkhVR8ZzfZWeafToWO0Gt3GpsqU/q4XKyDTJhiVvnSDFWqd2RUxWnTNK83ubd45FvJHZz5mV014dx0lAxfGsrjwk6PhWuUW4Fi+rM5WsBpE4TKB+bbG0y+AQtTVYRVowqasqEM5S+T+jOu18L+2lJ4+pNIadJ5az5SY4/ZXHZ07Vrg8FIRKBu9sRDlWtA/874HDzeNbdBrKIcGTl5pBrsLTKdZbwcelmTfo/vJaymCsFVdtmx6PL5pOkSbSnAB9pWrXxFZXpfeZOwwrYqgqUnMhDbXGHFjiwJU5kRPTiLvFDqmVBsJzAEtV5C7zXsNEIwbLCo9H4FVhJ9ZHCE2QpMrMmS1TBsL9rxaQwlYnZ7vI0xPsdsV8hLLVy+da3FiWwg/ln36vVtrBBmzE0a9zBG6MrYjpWoc4eilIF81K/GFUyeX+3yY7yTGEFDaJrBYxfKIb2aEle3IWF5jwG1hJ1T+TqF7v8xC/jZq7A7el+FcXdFjZUgljWHFe1OVoALZhjcR6QIz8jNin3Vq/nPPL/nv3pYVf5j0wyJod4zYzQbqGYSWwWdFlr21x3Dlp/hw7afaMbVqlKj4TgGelyPWvMq861gsId9Xxp2VhHozqiiP4viV9bRIkyV9YXnPSVqVxmYM6WfmHEbk1x6euNTrR9nWLmpYPT4dEp57iRbDGpx9lMPjvPW81jtnulbSq9ARvOupaw/qxcWYiisXf2gvZ/m/tks+0Ylhi+F7uvecncdvZaQv328NLdZFuiathFjiy/tdvKuGJ736lO5Alx+mVna6+Ra/2zas5K3JE5kcLmCyqIO9loTmOV21BG67+tl9+AupWaHLwrAkse8rKivIVz/OePpfTWeXLSvONTK6Zv/+tnlef0h17lQNWogt1p46XKQpduuIsuLsq2c1ul/WD9/Ojt95bYiqBlaHxXa3WrVnjaRs14CebGpwkrO9AfPrrMLzpluYA77Xes+adxTrylEw69MV5vMc257MN9yeK6a2Wi8RZxjXYt3Qb3N/ryKvU+p9mrbr54hNvi7OQG9+VDxWndH0/tjW/X3jWqOm1ZW0LBSjjy3SSzW5W75MFn8d1qBLOiM9zeX7pa4jx388K7jbLCQvbaWlaycUXbZiGm3np/FjlfE/50wEofjVNvV9cpOuCCEbvnpgbwq3W5fDsGO/uqznlnETvD4YNSxaXH8jc/amKWc36QNMfi4SdP2E9qFszlt9aseGsOebYmVgFnW5m3P4kGX4QnRw4neSs3dKBngD4nbA/4elgkPjiAgRmogRvIgR3ogR8IgiEogiNIgiVogieIgimogitYggUAADs=" width="170" height="170"><div class="footer__description--normal"><p class="paragraph footer__author--normal" style="color: #000 !important;">XS Zhao<sup class="super">&#xAE;</sup></p><p class="paragraph footer__quote--normal" style="color: #000 !important;">Stay Foolish, Stay Hungry</p><div class="footer__main--normal"><p class="paragraph footer__main__paragraph--normal copyright" style="color: #666 !important;">Copyright &#xA9; hansonzhao007 all right reserved, powered by <a href="https://github.com/aleen42" target="_blank">aleen42</a></p><p class="paragraph footer__main__paragraph--normal footer__modifyTime--normal" style="color: #666 !important;"><span style="color: #666 !important;">modified at</span> 2018-12-06 13:48:53</p></div></div></div><div class="box__issues"><span class="issue-line"><p class="issue-header"><strong>0</strong> issues reported</p></span></div></footer></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title"><span class="search-results-count"></span> results matching "<span class="search-query"></span>"</h1><ul class="search-results-list"></ul></div><div class="no-results"><h1 class="search-results-title">No results matching "<span class="search-query"></span>"</h1></div></div></div></div></div></div></div><script>var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"pandas","level":"1.6.1","depth":2,"next":{"title":"Web","level":"1.7","depth":1,"ref":"","articles":[{"title":"Gitbook","level":"1.7.1","depth":2,"path":"content/web/gitbook.md","ref":"content/web/gitbook.md","articles":[]}]},"previous":{"title":"Python","level":"1.6","depth":1,"ref":"","articles":[{"title":"pandas","level":"1.6.1","depth":2,"path":"content/python/pandas.md","ref":"content/python/pandas.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","addcssjs","anchor-navigation-ex","folding-chapters","-lunr","-search","search-plus","splitter","sitemap","github-buttons","page-footer","terminal"],"root":"./","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"splitter":{},"addcssjs":{"css":["./custom/my.css"],"js":["./custom/my.js"]},"fontsettings":{"theme":"white","family":"sans","size":2},"folding-chapters":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showLevel":true},"sitemap":{"hostname":"http://xszhao.science/cheatsheet"},"github-buttons":{"buttons":[{"user":"hansonzhao007","repo":"cheatsheet","type":"star","size":"small","count":true}]},"page-footer":{"isShowIssues":true,"wisdom":"Stay Foolish, Stay Hungry","copyright":"Copyright &#169; hansonzhao007","styles (normal, symmetrical)":"normal","issueNum":"8","style":"normal","repo":"hansonzhao007/cheatsheet","isShowQRCode":true,"timeColor":"#666","utcOffset":"8","format":"yyyy-MM-dd hh:mm:ss","signature":"XS Zhao","token":"","baseUri":"http://xszhao.science/cheatsheet/","copyrightColor":"#666","description":"modified at"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"terminal":{"copyButtons":true,"fade":false,"style":"flat"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"search-plus":{}},"theme":"default","author":"XS Zhao","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"cheatsheet","gitbook":"*"},"file":{"path":"content/python/pandas.md","mtime":"2018-12-06T05:48:53.270Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-12-27T00:00:51.484Z"},"basePath":"../..","book":{"language":""}});
        });</script></div><script src="../../gitbook/gitbook.js"></script><script src="../../gitbook/theme.js"></script><script src="../../gitbook/gitbook-plugin-folding-chapters/folding-chapters.js"></script><script src="../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script><script src="../../gitbook/gitbook-plugin-search-plus/search.js"></script><script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script><script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script><script src="../../gitbook/gitbook-plugin-terminal/plugin.js"></script><script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script><script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script><script type="text/javascript" src="../../custom/my.js"></script></body></html>